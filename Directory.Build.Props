<Project>
  <!-- ==== 경로/트리플릿 공통 설정 ==== -->
  <PropertyGroup>
    <!-- vcpkg 루트 경로: 필요시 본인 경로로 수정 -->
    <VcpkgRoot>D:\vcpkg</VcpkgRoot>
    
    <TripletStatic>x64-windows-static-md</TripletStatic>
    <TripletDynamic>x64-windows</TripletDynamic>
  </PropertyGroup>

  <!-- ==== 공통: 포함 디렉터리 및 전처리기 정의 ==== -->
  <ItemDefinitionGroup>
    <ClCompile>
      <AdditionalIncludeDirectories>
        $(VcpkgRoot)\installed\$(TripletStatic)\include;
        $(VcpkgRoot)\installed\$(TripletDynamic)\include;
        %(AdditionalIncludeDirectories)
      </AdditionalIncludeDirectories>
      <PreprocessorDefinitions>
        PROJECT_NAME="$(ProjectName)";
        %(PreprocessorDefinitions)
      </PreprocessorDefinitions>
    </ClCompile>
  </ItemDefinitionGroup>

  <!-- ==== Debug 전용 설정 ==== -->
  <ItemDefinitionGroup Condition="'$(Configuration)'=='Debug'">
    <Link>
      <AdditionalLibraryDirectories>
        $(VcpkgRoot)\installed\$(TripletStatic)\debug\lib;
        $(VcpkgRoot)\installed\$(TripletDynamic)\debug\lib;
        %(AdditionalLibraryDirectories)
      </AdditionalLibraryDirectories>
      <!-- DX11 기준: directxtk.lib / directxtex.lib / imgui.lib + Assimp import lib -->
      <AdditionalDependencies>
        directxtk.lib;
        directxtex.lib;
        imguid.lib;
        assimp-vc143-mtd.lib;
        %(AdditionalDependencies)
      </AdditionalDependencies>
    </Link>

    <!-- Assimp DLL 자동 복사 (Debug) -->
    <PostBuildEvent>
      <Command>
        xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\debug\bin\*.dll" "$(OutDir)"
      </Command>
    </PostBuildEvent>
  </ItemDefinitionGroup>

  <!-- ==== Release 전용 설정 ==== -->
  <ItemDefinitionGroup Condition="'$(Configuration)'=='Release'">
    <Link>
      <AdditionalLibraryDirectories>
        $(VcpkgRoot)\installed\$(TripletStatic)\lib;
        $(VcpkgRoot)\installed\$(TripletDynamic)\lib;
        %(AdditionalLibraryDirectories)
      </AdditionalLibraryDirectories>
      <AdditionalDependencies>
        directxtk.lib;
        directxtex.lib;
        imgui.lib;
        assimp-vc143-mt.lib;
        %(AdditionalDependencies)
      </AdditionalDependencies>
    </Link>

    <!-- Assimp DLL 자동 복사 (Release) -->
    <PostBuildEvent>
      <Command>
        xcopy /Y /D "$(VcpkgRoot)\installed\$(TripletDynamic)\bin\*.dll" "$(OutDir)"
      </Command>
    </PostBuildEvent>
  </ItemDefinitionGroup>
</Project>
